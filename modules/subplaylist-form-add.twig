{#
/*
 * Spring Signage Ltd - http://www.springsignage.com
 * Copyright (C) 2015-2018 Spring Signage Ltd
 * (subplaylist-form-add.twig)
 */
#}
{% extends "form-base.twig" %}
{% import "forms.twig" as forms %}

{% block formTitle %}
    {% trans "Add Sub-Playlist" %}
{% endblock %}

{% block formButtons %}
    {% trans "Cancel" %}, XiboDialogClose()
    {% trans "Save" %}, $("#subPlaylistForm").submit()
{% endblock %}

{% block formHtml %}
    <div class="row">
        <div class="col-md-12">
            <form id="subPlaylistForm" class="XiboForm form-horizontal" method="post" action="{{ urlFor("module.widget.add", {type: module.widget.type, id: playlist.playlistId}) }}">
                {% set title %}{% trans "Playlist" %}{% endset %}
                {% set helpText %}{% trans "Please select a Playlist to embed" %}{% endset %}
                {% set attributes = [
                    { name: "data-live-search", value: "true" },
                    { name: "data-selected-text-format", value: "count > 4" }
                ] %}
                {% set playlists = module.getAssignablePlaylists() %}
                {{ forms.dropdown("subPlaylistId", "single", title, "", playlists, "playlistId", "name", helpText, "", "", "", "", attributes) }}

            </form>
        </div>
    </div>
{% endblock %}