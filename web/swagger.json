{
    "swagger": "2.0",
    "info": {
        "title": "Xibo API",
        "description": "Xibo CMS API",
        "termsOfService": "http://xibo.org.uk/legal",
        "contact": {
            "email": "info@xibo.org.uk"
        },
        "license": {
            "name": "AGPLv3 or later",
            "url": "http://www.gnu.org/licenses/"
        },
        "version": "1.8.0-alpha"
    },
    "basePath": "/api",
    "produces": [
        "application/json"
    ],
    "paths": {
        "/displaygroup": {
            "get": {
                "tags": [
                    "displayGroup"
                ],
                "summary": "Get Display Groups",
                "operationId": "displayGroupSearch",
                "responses": {
                    "200": {
                        "description": "a successful response",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/DisplayGroup"
                            }
                        },
                        "headers": {
                            "X-Total-Count": {
                                "description": "The total number of records",
                                "type": "integer"
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "displayGroup"
                ],
                "summary": "Add a Display Group",
                "description": "Add a new Display Group to the CMS",
                "operationId": "displayGroupAdd",
                "parameters": [
                    {
                        "name": "displayGroup",
                        "in": "formData",
                        "description": "The Display Group Name",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "description",
                        "in": "formData",
                        "description": "The Display Group Description",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "201": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/DisplayGroup"
                        },
                        "headers": {
                            "Location": {
                                "description": "Location of the new DisplayGroup",
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/displaygroup/{displayGroupId}": {
            "put": {
                "tags": [
                    "displayGroup"
                ],
                "summary": "Edit a Display Group",
                "description": "Edit an existing Display Group identified by its Id",
                "operationId": "displayGroupEdit",
                "parameters": [
                    {
                        "name": "displayGroupId",
                        "in": "path",
                        "description": "The displayGroupId to edit.",
                        "required": true,
                        "type": "integer"
                    },
                    {
                        "name": "displayGroup",
                        "in": "formData",
                        "description": "The Display Group Name",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "description",
                        "in": "formData",
                        "description": "The Display Group Description",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/DisplayGroup"
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "displayGroup"
                ],
                "summary": "Delete a Display Group",
                "description": "Delete an existing Display Group identified by its Id",
                "operationId": "displayGroupDelete",
                "parameters": [
                    {
                        "name": "displayGroupId",
                        "in": "path",
                        "description": "The displayGroupId to delete",
                        "required": true,
                        "type": "integer"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/layout": {
            "post": {
                "tags": [
                    "layout"
                ],
                "summary": "Add a Layout",
                "description": "Add a new Layout to the CMS",
                "operationId": "layoutAdd",
                "parameters": [
                    {
                        "name": "name",
                        "in": "formData",
                        "description": "The layout name",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "description",
                        "in": "formData",
                        "description": "The layout description",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "layoutId",
                        "in": "formData",
                        "description": "If the Layout should be created with a Template, provide the ID, otherwise don't provide",
                        "required": false,
                        "type": "integer"
                    },
                    {
                        "name": "resolutionId",
                        "in": "formData",
                        "description": "If a Template is not provided, provide the resolutionId for this Layout.",
                        "required": false,
                        "type": "integer"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/Layout"
                        }
                    }
                }
            }
        },
        "/layout/{layoutId}": {
            "put": {
                "tags": [
                    "layout"
                ],
                "operationId": "layoutEdit",
                "parameters": [
                    {
                        "name": "layoutId",
                        "in": "path",
                        "type": "integer"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/Layout"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "DisplayGroup": {
            "properties": {
                "displayGroupId": {
                    "description": "The displayGroup Id",
                    "type": "integer"
                },
                "displayGroup": {
                    "description": "The displayGroup Name",
                    "type": "string"
                },
                "description": {
                    "description": "The displayGroup Description",
                    "type": "string"
                },
                "isDisplaySpecific": {
                    "description": "A flag indicating whether this displayGroup is a single display displayGroup",
                    "type": "integer"
                }
            }
        },
        "Layout": {
            "properties": {
                "layoutId": {
                    "description": "The layoutId",
                    "type": "integer"
                },
                "ownerId": {
                    "description": "The userId of the Layout Owner",
                    "type": "integer"
                },
                "campaignId": {
                    "description": "The id of the Layout's dedicated Campaign",
                    "type": "integer"
                },
                "backgroundImageId": {
                    "description": "The id of the image media set as the background",
                    "type": "integer"
                },
                "schemaVersion": {
                    "description": "The XLF schema version",
                    "type": "integer"
                },
                "layout": {
                    "description": "The name of the Layout",
                    "type": "string"
                },
                "description": {
                    "description": "The description of the Layout",
                    "type": "string"
                },
                "backgroundColor": {
                    "description": "A HEX string representing the Layout background color",
                    "type": "string"
                },
                "createdDt": {
                    "description": "The datetime the Layout was created",
                    "type": "string"
                },
                "modifiedDt": {
                    "description": "The datetime the Layout was last modified",
                    "type": "string"
                },
                "status": {
                    "description": "Flag indicating the Layout status",
                    "type": "integer"
                },
                "retired": {
                    "description": "Flag indicating whether the Layout is retired",
                    "type": "integer"
                },
                "backgroundzIndex": {
                    "description": "The Layer that the background should occupy",
                    "type": "integer"
                },
                "width": {
                    "description": "The Layout Width",
                    "type": "number",
                    "format": "double"
                },
                "height": {
                    "description": "The Layout Height",
                    "type": "number",
                    "format": "double"
                }
            }
        },
        "Schedule": {
            "properties": {
                "eventId": {
                    "description": "",
                    "type": "integer"
                },
                "campaignId": {
                    "description": "",
                    "type": "integer"
                },
                "displayGroups": {
                    "description": "Display Groups assigned to this Scheduled Event.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/DisplayGroup"
                    }
                },
                "userId": {
                    "description": "The userId that owns this event.",
                    "type": "integer"
                },
                "fromDt": {
                    "description": "A Unix timestamp representing the from date of this event in CMS time.",
                    "type": "integer"
                },
                "toDt": {
                    "description": "A Unix timestamp representing the to date of this event in CMS time.",
                    "type": "integer"
                },
                "isPriority": {
                    "description": "Flag indicating whether the event should be considered priority or not.",
                    "type": "integer"
                },
                "displayOrder": {
                    "description": "The display order for this event.",
                    "type": "integer"
                },
                "recurrenceType": {
                    "description": "If this event recurs when what is the recurrence period.",
                    "type": "string",
                    "enum": [
                        "Minute",
                        "Hour",
                        "Day",
                        "Week",
                        "Month",
                        "Year"
                    ]
                },
                "recurrenceDetail": {
                    "description": "If this event recurs when what is the recurrence frequency.",
                    "type": "integer"
                },
                "recurrenceRange": {
                    "description": "A Unix timestamp indicating the end time of the recurring events.",
                    "type": "integer"
                },
                "campaign": {
                    "description": "The Campaign/Layout Name",
                    "type": "string",
                    "readOnly": true
                }
            }
        }
    },
    "securityDefinitions": {
        "auth": {
            "type": "oauth2",
            "in": "header",
            "flow": "accessCode",
            "authorizationUrl": "/application/authorize",
            "tokenUrl": "/api/authorize/access_token",
            "scopes": {
                "read:all": "read access",
                "write:all": "write access"
            }
        }
    },
    "security": [
        {
            "auth": [
                "write:all",
                "read:all"
            ]
        }
    ],
    "tags": [
        {
            "name": "schedule",
            "description": "Schedule"
        },
        {
            "name": "layout",
            "description": "Layouts"
        },
        {
            "name": "region",
            "description": "Regions"
        },
        {
            "name": "playlist",
            "description": "Playlists"
        },
        {
            "name": "campaign",
            "description": "Campaigns"
        },
        {
            "name": "template",
            "description": "Templates"
        },
        {
            "name": "resolution",
            "description": "Resolutions"
        },
        {
            "name": "library",
            "description": "Library"
        },
        {
            "name": "display",
            "description": "Displays"
        },
        {
            "name": "displayGroup",
            "description": "Display Groups"
        },
        {
            "name": "displayprofile",
            "description": "Display Settings"
        },
        {
            "name": "dataset",
            "description": "DataSets"
        },
        {
            "name": "statistics",
            "description": "Statistics"
        },
        {
            "name": "log",
            "description": "Logs"
        },
        {
            "name": "user",
            "description": "Users"
        },
        {
            "name": "usergroup",
            "description": "User Groups"
        },
        {
            "name": "module",
            "description": "Modules and Widgets"
        }
    ],
    "externalDocs": {
        "description": "Manual",
        "url": "http://xibo.org.uk/manual"
    }
}